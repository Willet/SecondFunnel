<!DOCTYPE html>
<html>
    <head>
        <title>Jasmine Spec Runner</title>

        <link rel="stylesheet" type="text/css" href="../css/jasmine.css">

        <!-- Include dependencies here... -->
        <script src="js/test_config.js"></script>
        <script src="//connect.facebook.net/en_US/all.js"></script>
        <script src="//google-analytics.com/ga.js"></script>
        <script src="/static/js/respond.min.js"></script><!-- "as early after the css as possible" -->
        <script src="/static/js/jquery-1.8.3.js"></script>
        <script src="/static/js/jquery.xdr.js"></script>
        <script src="/static/js/jquery.animate-enhanced.js"></script>
        <script src="/static/js/jquery.mobile.swipeonly.min.js"></script>
        <script src="/static/js/jquery.viewport.min.js"></script><!-- after jquery -->
        <script src="/static/js/json2.js"></script>
        <script src="/static/js/underscore.js"></script>
        <script src="/static/js/backbone.js"></script>
        <script src="/static/js/backbone.marionette.js"></script><!-- after backbone -->
        <script src="/static/js/masonry.pkgd.js"></script>
        <script src="/static/js/bootstrap.min.js"></script>
        <script src="/static/js/jquery.browser.mobile.js"></script>
        <script src="/static/js/css3-mediaqueries.js"></script><!-- IE8 -->

        <script src="../js/jasmine.js"></script>
        <script src="../js/sinon-1.7.3.js"></script>
        <script src="../js/jasmine-html.js"></script>
        <script src="../js/jasmine-jquery.js"></script>

        <script src="//connect.facebook.net/en_US/all.js"></script>
        <script src="//google-analytics.com/ga.js"></script>
    </head>

    <body>
        <script type="text/template" id="hero_template">&nbsp;</script>
        <script type="text/template" id="product_tile_template">&nbsp;</script>
        <script type="text/template" id="image_tile_template">&nbsp;</script>
        <script type="text/template" id="youtube_tile_template">&nbsp;</script>
        <script type="text/template" id="preview_container_template">&nbsp;</script>
        <script type="text/template" id="tile_preview_template">&nbsp;</script>
        <script type="text/template" id="tap_indicator_template">&nbsp;</script>

        <!-- Include components here -->
        <script src="js/pages.preinit.js"></script><!-- after marionette -->
        <script src="js/pages.utils.js"></script>
        <script src="js/pages.core.js"></script><!-- after preinit -->
        <script src="js/pages.ir.js"></script><!-- after marionette -->
        <script src="js/pages.core.models.js"></script><!-- after preinit -->
        <script src="js/pages.core.views.js"></script><!-- after preinit -->
        <script src="js/pages.support.js"></script><!-- after marionette -->
        <script src="js/pages.tracker.js"></script><!-- after marionette -->
        <script src="js/pages.layoutengine.js"></script><!-- after marionette -->
        <script src="js/pages.sharing.js"></script><!-- after marionette -->
        <script src="js/pages.viewport.js"></script><!-- after pages -->
        <script src="js/pages.init.js"></script><!-- after pages -->
        <script src="js/pages.widget.gallery.js"></script>


        <!-- include spec files here... -->
        <script src="js/pages2-test/spec-helpers.js"></script>
        <script src="js/pages2-test/fixtures.js"></script>
        <script src="js/pages2-test/pages.spec.js"></script>
        <script src="js/pages2-test/pages.ir.spec.js"></script>
        <script src="js/pages2-test/pages.layoutengine.spec.js"></script>
        <script src="js/pages2-test/pages.preinit.spec.js"></script>
        <script src="js/pages2-test/pages.support.spec.js"></script>
        <script src="js/pages2-test/pages.utils.spec.js"></script>
        <script src="js/pages2-test/pages.viewport.spec.js"></script>
        <script src="js/pages2-test/JFGTD.spec.js"></script>

        <!-- include spec files here... -->
        <script type="text/javascript">
            // TODO: It would be really nice if either we had a reporter
            // that could sort things into the spec, or we could otherwise
            // show that all parts of the spec are being met. Maybe tags?
            // Is that a thing in jasmine?
            (function () {
                var jasmineEnv = jasmine.getEnv();
                jasmineEnv.updateInterval = 1000;

                var htmlReporter = new jasmine.HtmlReporter();

                jasmineEnv.addReporter(htmlReporter);

                jasmineEnv.specFilter = function (spec) {
                    return htmlReporter.specFilter(spec);
                };

                // Change path for HTML fixtures
                // mostly for templates
                jasmine.getFixtures().fixturesPath = 'js/pages2-test';

                var currentWindowOnload = window.onload;

                function execJasmine() {
                    jasmineEnv.execute();
                }

                window.onload = function () {
                    if (currentWindowOnload) {
                        currentWindowOnload();
                    }

                    SecondFunnel.start();
                    execJasmine();
                };
            }());
        </script>
    </body>
</html>